---
import WaterColorReveal from '@/components/WaterColorReveal.tsx';  
const res = await fetch('http://wordpress-a80wooocckwk0kwg4ow0c4o4.82.29.180.126.sslip.io/wp-json/wp/v2/posts');
const posts = await res.json();

const post1 = await fetch('http://wordpress-a80wooocckwk0kwg4ow0c4o4.82.29.180.126.sslip.io/wp-json/wp/v2/posts?slug=ergruenden-sie');
const post2 = await fetch('http://wordpress-a80wooocckwk0kwg4ow0c4o4.82.29.180.126.sslip.io/wp-json/wp/v2/posts?slug=geniessen-sie');
const post3 = await fetch('http://wordpress-a80wooocckwk0kwg4ow0c4o4.82.29.180.126.sslip.io/wp-json/wp/v2/posts?slug=entdecken-sie');
const post4 = await fetch('http://wordpress-a80wooocckwk0kwg4ow0c4o4.82.29.180.126.sslip.io/wp-json/wp/v2/posts?slug=tauchen-sie');
const post5 = await fetch('http://wordpress-a80wooocckwk0kwg4ow0c4o4.82.29.180.126.sslip.io/wp-json/wp/v2/posts?slug=erleben-sie-2');


const post1Json = await post1.json();
const post2Json = await post2.json();
const post3Json = await post3.json();
const post4Json = await post4.json();

// Reviews data
const reviews = [
  {
    text: "Frau Heyl hat mit ihrer freundlichen Art und ihrem fundiertem Wissen, die ganze Gruppe begeistert. Vielen Dank !! Wir kommen wieder !!",
    date: "8.11.2024"
  },
  {
    text: "Die Tour war kurzweilig und lustig mit vielen Anekdoten.",
    date: "9.11.2024"
  },
  {
    text: "Die Snacks waren sehr kreativ und haben super zum Thema und zu den Weinen gepasst. Es war sehr schön, dass es auch alkoholfreien Wein gab.",
    date: "12.11.2024"
  },
  {
    text: "Frau Heyl, hat es geschafft Geschichte lebendig werden zu lassen. Sie bindet gekonnt Ihr Gäste in die Führung mit ein. Es hat uns sehr viel Spaß gemacht.",
    date: "29.10.24"
  },
  {
    text: "Ein sehr schönes Konzept die Historie durch verteilte Rollen bei den Teilnehmern näher zu bringen. Leckere selbstgemachte Häppchen. Tolle Engagierte Tour-Führerin mit Esprit und Humor!",
    date: "7.10.2024"
  },
  {
    text: "Ich habe sehr viel positive Rückmeldungen aus der Gruppe, mit der wir da waren, bekommen. Die Tour war sehr lebhaft und selbst unsere eingefleischten Pfälzer, die aus der Region kommen und diese Region eigentlich gut kennen, haben viel Interessantes und Neues gehört und gelernt. Die Tour kam megagut in unserer Gruppe an.",
    date: "13.5.2025"
  },
  {
    text: "Die Tour war mit sehr viel Liebe zum Detail vorbereitet – man hat gespürt, wie viel Herzblut in der Gestaltung steckt. Die Auswahl der Weine war wirklich hervorragend, jeder Tropfen ein Genuss! Auch die kleinen Snacks waren köstlich und schön angerichtet. Besonders beeindruckt hat mich der Ausblick – die Naturkulisse war traumhaft und hat für einige unvergessliche Momente gesorgt.",
    date: "13.5.2025"
  }
];

// console.log(post1Json);
// console.log(post2Json);
// console.log(post3Json);
// console.log(post4Json);

---

<!-- src/components/TestSection.astro -->
<!-- Purpose: Alternating image/text sections with watercolor reveal effect tied to scroll progress -->

<section class="w-full flex flex-col gap-24 bg-white px-12 relative pb-[250px] md:pb-0 overflow-x-clip">
  <div class="absolute top-0 left-[50%] translate-x-[-60%] translate-y-[-50%] h-[900px] w-full flex justify-center items-center z-10  mix-blend-multiply">
    <img src="/ChatGPTAsset.png" alt="Section 4" class="object-contain scale-x-[-1] contrast-200 rotate-[35deg] absolute w-full h-full top-[0%] left-[50%] translate-x-[-50%] translate-y-[0%] saturate-[0.5] opacity-5"  />
  </div>

  <div class="inset-0 absolute z-0 pointer-events-none "
  style={{
    backgroundImage: `url(/GimmeldingenMap.jpg)`,
    backgroundSize: 'cover',
    backgroundPosition: 'center',
    backgroundRepeat: 'no-repeat',
    opacity: 0.23,
  }}/>

  <div class="w-full top-0 left-0 h-1/4 absolute bg-gradient-to-b from-white via-white/20 to-transparent z-0 pointer-events-none"/>
    <div class="flex flex-col md:flex-row items-center justify-between gap-4 xl:gap-12 w-full max-w-6xl mx-auto relative">
      <p class="w-fit absolute top-[80%] left-[0%] translate-x-[-10%] md:translate-y-[35%] 
      text-nowrap text-4xl xl:text-5xl font-doulaise font-semibold mb-8 text-stone-300/40 md:text-stone-400/20 lowercase
      pr-32 pl-2 py-3 z-10">abenteuer und erinnerungen
    </p>
        <p class="w-fit absolute top-[80%] left-[0%] translate-x-[-35%] md:translate-y-[90%] 
      text-nowrap text-xl xl:text-3xl font-doulaise font-semibold mb-8 text-stone-200/70 md:text-stone-400/20 lowercase leading-tight
      pr-32 pl-2 py-3 z-10">...darum rate ich sei weise, zöger nicht und reise reise.
    </p>
      <div class="flex-1 order-2 md:order-1 w-[300px] sm:w-full sm:min-w-[320px]">

        {post1Json && (() => {
          const rawHtml1 = post1Json[0].content.rendered;
          const paragraphMatches1 = rawHtml1.match(/<p>.*?<\/p>/gs) || [];
        
          const subtitle1 = paragraphMatches1[0].replace(/<[^>]*>?/g, '') || "";
          const main1 = paragraphMatches1.slice(1, -1).join("").replace(/<[^>]*>?/g, '') || "";
          const appendix1 = paragraphMatches1.at(-1).replace(/<[^>]*>?/g, '') || "";
        
          return (
            <>
              <h2 class="text-3xl sm:text-5xl xl:text-6xl font-bold mb-2 font-bonanova tracking-tight text-nowrap">
          <span class="text-accent1/50 pr-32 text-nowrap">
            {post1Json[0].title.rendered}
          </span>
        </h2>
        <p class="text-lg xl:text-xl text-stone-700/75 mb-4 xl:leading-none">
          {subtitle1}
          </p>
        <p class="text-sm text-stone-500/60">
          {main1}
        </p>
        <h2 class="text-5xl xl:text-7xl font-normal text-text/30 mb-6 font-bonanova tracking-tight text-nowrap -ml-2 sm:ml-0">
          {appendix1}
        </h2>
            </>
          );
        })()}
        
      </div>
      <!-- Section 1: Image Right, Text Left (Two glasses) -->
      <div class="flex-1 order-1 md:order-2 flex justify-center saturate-[0.6] hover:saturate-[1] transition-all duration-300
      mt-12 lg:mt-0">
      <WaterColorReveal client:visible id="V2section-4-xs" width={300} height={300} 
      className="block sm:hidden h-[300px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
        <img slot="child1" src="/compressed-mj-wineToasting-mosaicGlass.png" alt="Section 4" class="absolute w-[95%] h-[100%] top-[50%] left-[50%] translate-x-[-50%] translate-y-[-48%] group-hover:opacity-0 rounded-xl shadow-lg transition-opacity duration-500"  />
        <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8068.jpg" alt="Section 1 Hover" class="absolute object-cover object-[100%_90%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
      </WaterColorReveal>
      <WaterColorReveal client:visible id="V2section-4-sm" width={360} height={360} 
      className="hidden sm:block lg:hidden h-[360px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
        <img slot="child1" src="/compressed-mj-wineToasting-mosaicGlass.png" alt="Section 4" class="absolute w-[95%] h-[100%] top-[50%] left-[50%] translate-x-[-50%] translate-y-[-48%] group-hover:opacity-0 rounded-xl shadow-lg transition-opacity duration-500"  />
        <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8068.jpg" alt="Section 1 Hover" class="absolute object-cover object-[100%_90%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
      </WaterColorReveal>
      <WaterColorReveal client:visible id="V2section-4" width={500} height={500}
       className="hidden lg:block h-[500px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
        <img slot="child1" src="/compressed-mj-wineToasting-mosaicGlass.png" alt="Section 4" class="absolute w-[95%] h-[100%] top-[50%] left-[50%] translate-x-[-50%] translate-y-[-48%] group-hover:opacity-0 rounded-xl shadow-lg transition-opacity duration-500"  />
        <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8068.jpg" alt="Section 1 Hover" class="absolute object-cover object-[100%_90%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
      </WaterColorReveal>
      </div>
    </div>



    <div class="w-full h-full absolute top-0 left-[50%] translate-x-[-10%] min-w-[600px]  z-0 max-w-[1200px] flex justify-center items-center opacity-10 pointer-events-none">
      <svg id="Final_Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3062.26 4609.72" class="bg-red-500/0 w-[100%] h-[100%] scale-[1.4]"> 
        <defs><style>.cls-1,.cls-2{isolation:isolate;opacity:.5;}.cls-2{fill:#8c6b6b;}.cls-3{stroke-dasharray:32.56 32.56;}.cls-3,.cls-4,.cls-5,.cls-6,.cls-7,.cls-8{fill:none;stroke:#8c6b6b;stroke-linecap:round;stroke-miterlimit:10;stroke-width:16px;}.cls-4{stroke-dasharray:31.03 31.03;}.cls-5{stroke-dasharray:31.96 31.96;}.cls-6{stroke-dasharray:31.23 31.23;}.cls-8{stroke-dasharray:32.47 32.47;}</style></defs>
        <g class="cls-1"><line class="cls-7" x1="714.63" y1="579.21" x2="702.18" y2="569.16"/><line class="cls-8" x1="676.93" y1="548.74" x2="33.07" y2="28.26"/><line class="cls-7" x1="20.44" y1="18.06" x2="8" y2="8"/></g>
        <g class="cls-1"><path class="cls-7" d="M1620.66,1520.95c.91-5.26,1.68-10.54,2.33-15.83"/><path class="cls-6" d="M1625.24,1473.98c2.21-94.73-37.61-190.36-119.86-255.54l-586.05-473.74"/><line class="cls-7" x1="907.2" y1="734.88" x2="894.76" y2="724.83"/></g>
        <g class="cls-1"><path class="cls-7" d="M787.53,2471.28c-.9-5.26-1.67-10.54-2.3-15.83"/><path class="cls-5" d="M783.01,2423.57c-1.9-96.47,39.68-193.89,125.88-258.9l527.93-398.21,37.05-27.94"/><line class="cls-7" x1="1486.62" y1="1728.9" x2="1499.39" y2="1719.27"/></g>
        <g class="cls-1"><path class="cls-7" d="M1896.66,3335.92c-3.31-4.18-6.72-8.29-10.23-12.3"/><path class="cls-3" d="M1863.76,3300.27c-13.08-12.15-27.23-23.25-42.35-33.12l-843.68-551.17-24.33-15.89"/><line class="cls-7" x1="939.78" y1="2691.18" x2="926.38" y2="2682.42"/></g>
        <g class="cls-1"><line class="cls-7" x1="2254.26" y1="4501.72" x2="2249.87" y2="4486.34"/><line class="cls-4" x1="2241.35" y1="4456.5" x2="2007.14" y2="3636.06"/><line class="cls-7" x1="2002.88" y1="3621.14" x2="1998.49" y2="3605.76"/></g><path class="cls-2" d="M1586.51,1667.22c-27.71,0-50.25-22.54-50.25-50.25s22.54-50.25,50.25-50.25,50.25,22.54,50.25,50.25-22.54,50.25-50.25,50.25ZM1586.51,1593.1c-13.16,0-23.87,10.71-23.87,23.87s10.71,23.87,23.87,23.87,23.87-10.71,23.87-23.87-10.71-23.87-23.87-23.87Z"/><path class="cls-2" d="M844.51,2657.22c-27.71,0-50.25-22.54-50.25-50.25s22.54-50.25,50.25-50.25,50.25,22.54,50.25,50.25-22.54,50.25-50.25,50.25ZM844.51,2583.1c-13.16,0-23.87,10.71-23.87,23.87s10.71,23.87,23.87,23.87,23.87-10.71,23.87-23.87-10.71-23.87-23.87-23.87Z"/><path class="cls-2" d="M1957.51,3513.22c-27.71,0-50.25-22.54-50.25-50.25s22.54-50.25,50.25-50.25,50.25,22.54,50.25,50.25-22.54,50.25-50.25,50.25ZM1957.51,3439.1c-13.16,0-23.87,10.71-23.87,23.87s10.71,23.87,23.87,23.87,23.87-10.71,23.87-23.87-10.71-23.87-23.87-23.87Z"/><path class="cls-2" d="M806.51,714.22c-27.71,0-50.25-22.54-50.25-50.25s22.54-50.25,50.25-50.25,50.25,22.54,50.25,50.25-22.54,50.25-50.25,50.25ZM806.51,640.1c-13.16,0-23.87,10.71-23.87,23.87s10.71,23.87,23.87,23.87,23.87-10.71,23.87-23.87-10.71-23.87-23.87-23.87Z"/>
      </svg>
    </div>
  
    
  
    <!-- Section 2: Image Left, Text Right -->
    <div class="flex flex-col md:flex-row items-center justify-between gap-4 xl:gap-12 w-full max-w-6xl mx-auto
    mt-12 lg:mt-0">
      <div class="flex-1 order-2 md:order-2 pr-12 w-[300px] sm:w-full sm:min-w-[320px]">
       
        {post2Json && (() => {
          const rawHtml2 = post2Json[0].content.rendered;
          const paragraphMatches2 = rawHtml2.match(/<p>.*?<\/p>/gs) || [];
        
          const subtitle2 = paragraphMatches2[0].replace(/<[^>]*>?/g, '') || "";
          const main2 = paragraphMatches2.slice(1, -1).join("").replace(/<[^>]*>?/g, '') || "";
          const appendix2 = paragraphMatches2.at(-1).replace(/<[^>]*>?/g, '') || "";
        
          return (
            <>
              <h2 class="text-3xl sm:text-5xl xl:text-6xl font-bold mb-2 font-bonanova tracking-tight text-nowrap">
          <span class="text-accent1/50 pr-32 text-nowrap">
            {post2Json[0].title.rendered}
          </span>
        </h2>
        <p class="text-lg xl:text-xl text-stone-700/75 mb-4 xl:leading-none">
          {subtitle2}
          </p>
        <p class="text-sm text-stone-500/60">
          {main2}
        </p>
        <h2 class="text-5xl xl:text-7xl font-normal text-text/30 mb-6 font-bonanova tracking-tight text-nowrap">
          {appendix2}
        </h2>
            </>
          );
        })()}

      </div>
      <!-- Section 2: Image Left, Text Right (Wine Bottle) -->
      <div class="flex-1 order-1 md:order-1 flex justify-center saturate-[0.6] hover:saturate-[0.8] transition-all duration-300">
        <WaterColorReveal client:visible id="V2section-2-xs" width={300} height={300} 
        className="block sm:hidden h-[300px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
          <img slot="child1" src="/compressed-wineBottle-mosaic-wall.png" alt="Section 4" class="absolute object-cover w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500"  />
          <img slot="child2" src="/interactiveHistory.png" alt="Section 1 Hover" class="absolute object-cover object-[0%_0%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
        </WaterColorReveal>
        <WaterColorReveal client:visible id="V2section-2-sm" width={360} height={360} 
        className="hidden sm:block lg:hidden h-[360px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group:">
          <img slot="child1" src="/compressed-wineBottle-mosaic-wall.png" alt="Section 4" class="absolute object-cover w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500"  />
          <img slot="child2" src="/interactiveHistory.png" alt="Section 1 Hover" class="absolute object-cover object-[0%_0%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
        </WaterColorReveal>
        <WaterColorReveal client:visible id="V2section-2" width={550} height={550}
         className="hidden lg:block h-[550px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
          <img slot="child1" src="/compressed-wineBottle-mosaic-wall.png" alt="Section 4" class="absolute object-cover w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500"  />
          <img slot="child2" src="/interactiveHistory.png" alt="Section 1 Hover" class="absolute object-cover object-[0%_0%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
        </WaterColorReveal>

        <p class="absolute bottom-[0%] right-[45%] translate-x-[100%] translate-y-[-20%] 
        text-2xl lg:text-5xl text-nowrap font-doulaise font-semibold mb-8 group-hover:opacity-0 transition-opacity duration-[700ms]
        bg-gradient-to-r from-stone-100/90 via-stone-300/70 to-stone-200/70 bg-clip-text text-transparent">welch ein erlesener tropfen</p>
        <p class="absolute bottom-[0%] right-[45%] translate-x-[100%] translate-y-[10%] 
        text-2xl lg:text-3xl text-nowrap font-doulaise font-semibold mb-8 group-hover:opacity-0 transition-opacity duration-1000
        bg-gradient-to-r from-stone-300/70 via-stone-500/20 to-stone-500/10 bg-clip-text text-transparent">wenn liebe zum detail nicht einfach nur eine floskel ist</p>
      </div>
    </div>
  
    <!-- Section 3: Image Right, Text Left -->
    <div class="flex flex-col md:flex-row items-center justify-between gap-4 xl:gap-12 w-full max-w-6xl mx-auto z-10">
      <div class="flex-1 order-2 md:order-1 w-[300px] sm:w-full sm:min-w-[320px] relative">
   {post3Json && (() => {
          const rawHtml3 = post3Json[0].content.rendered;
          const paragraphMatches3 = rawHtml3.match(/<p>.*?<\/p>/gs) || [];
        
          const subtitle3 = paragraphMatches3[0].replace(/<[^>]*>?/g, '') || "";
          const main3 = paragraphMatches3.slice(1, -1).join("").replace(/<[^>]*>?/g, '') || "";
          const appendix3 = paragraphMatches3.at(-1).replace(/<[^>]*>?/g, '') || "";
        
          return (
            <>
              <h2 class=" text-3xl sm:text-5xl xl:text-6xl font-bold mb-2 font-bonanova tracking-tight text-nowrap">
          <span class="text-accent1/50 pr-32 text-nowrap">
           {post3Json[0].title.rendered}
          </span>
        </h2>
        <p class="text-lg xl:text-xl text-stone-700/75 mb-4 xl:leading-none">
          {subtitle3}
          </p>
        <p class="text-sm text-stone-500/60">
          {main3}
        </p>
        <h2 class="text-5xl xl:text-7xl font-normal text-text/30 mb-6 font-bonanova tracking-tight text-nowrap">
          {appendix3}
        </h2>
            </>
          );
        })()}
  
      </div>
      <!-- Section 3: Image Right, Text Left (Vineyard) -->
      <div class="flex-1 order-1 md:order-2 flex justify-center items-center relative saturate-[0.4] hover:saturate-[1] transition-all duration-300">
        <WaterColorReveal client:visible id="V2section-1-xs" width={300} height={300}
        className="block sm:hidden h-[300px] aspect-square absolute md:top-[50%] md:translate-y-[-25%] drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
          <img slot="child1" src="/compressed-mj-vineYard-ColorPencilSketch.png" alt="Section 1" class="absolute object-cover object-[80%_50%] w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500" />
          <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8056.jpg" alt="Section 1 Hover" class="absolute object-cover object-[50%_40%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
        </WaterColorReveal>
        <WaterColorReveal client:visible id="V2section-1-sm" width={360} height={360}
        className="hidden sm:block lg:hidden h-[360px] aspect-square absolute md:top-[50%] md:translate-y-[-25%] drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
          <img slot="child1" src="/compressed-mj-vineYard-ColorPencilSketch.png" alt="Section 1" class="absolute object-cover object-[80%_50%] w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500" />
          <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8056.jpg" alt="Section 1 Hover" class="absolute object-cover object-[50%_40%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
        </WaterColorReveal>
        <WaterColorReveal client:visible id="V2section-1-lg" width={600} height={600}
        className="hidden lg:block h-[600px] aspect-square absolute md:top-[50%] md:translate-y-[-25%] drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
          <img slot="child1" src="/compressed-mj-vineYard-ColorPencilSketch.png" alt="Section 1" class="absolute object-cover object-[80%_50%] w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500" />
          <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8056.jpg" alt="Section 1 Hover" class="absolute object-cover object-[50%_40%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
        </WaterColorReveal>
        <p class=" w-fit absolute bottom-[0%] right-[45%] translate-x-[100%] translate-y-[-20%] 
        text-nowrap text-4xl xl:text-5xl font-doulaise font-semibold mb-8 text-stone-200/70 md:text-stone-400/20 lowercase
        pr-32 pl-2 py-3 z-10"><span class="text-stone-100/50 ">Träume</span> und Schäume vom Rhein</p>
        <p class=" w-fit absolute bottom-[0%] right-[45%] translate-x-[100%] translate-y-[0%] 
        text-nowrap text-2xl xl:text-3xl font-doulaise font-semibold mb-8 text-stone-300 md:text-stone-400/15 lowercase
        pr-32 pl-2 py-3 z-10"><span class="text-stone-400/90">werden sie teil</span> von etwas besonderem und großartigem</p>
      </div>
    </div>
  
    <!-- Section 4: Image Left, Text Right -->
    <div class="flex flex-col md:flex-row items-center justify-between gap-4 xl:gap-12 w-full max-w-6xl mx-auto">
      <div class="flex-1 order-2 md:order-2 w-[300px] sm:w-full sm:min-w-[320px]">
        
        {post4Json && (() => {
          const rawHtml4 = post4Json[0].content.rendered;
          const paragraphMatches4 = rawHtml4.match(/<p>.*?<\/p>/gs) || [];
        
          const subtitle4 = paragraphMatches4[0].replace(/<[^>]*>?/g, '') || "";
          const main4 = paragraphMatches4.slice(1, -1).join("").replace(/<[^>]*>?/g, '') || "";
          const appendix4 = paragraphMatches4.at(-1).replace(/<[^>]*>?/g, '') || "";
        
          return (
            <>
              <h2 class="text-3xl sm:text-5xl xl:text-6xl font-bold mb-2 font-bonanova tracking-tight text-nowrap">
          <span class="text-accent1/50 pr-32 text-nowrap">
            {post4Json[0].title.rendered}
          </span>
        </h2>
        <p class="text-lg xl:text-xl text-stone-700/75 mb-4 xl:leading-none">
          {subtitle4}
          </p>
        <p class="text-sm text-stone-500/60">
          {main4}
        </p>
        <h2 class="text-5xl xl:text-7xl font-normal text-text/30 mb-6 font-bonanova tracking-tight text-nowrap">
          {appendix4}
        </h2>
            </>
          );
        })()}

      </div>
      <!-- Section 4: Image Left, Text Right (Old Book) -->
      <div class="relative flex-1 order-1 md:order-1 flex justify-center saturate-[0.6] hover:saturate-[0.8] transition-all duration-300
      mt-12 lg:mt-0">
      <WaterColorReveal client:visible id="V2section-3-xs" width={300} height={300} 
      className="block sm:hidden h-[300px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
        <img slot="child1" src="/compressed-mj-oldBook-mosaicGlass.png" alt="Section 3" class="absolute object-cover object-[50%_90%] w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500" /> 
        <img slot="child2" src="/compressed-mj-vineYard-V1.png" alt="Section 1 Hover" class="absolute object-cover object-[50%_90%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
      </WaterColorReveal>
      <WaterColorReveal client:visible id="V2section-3-sm" width={360} height={360} 
      className="hidden sm:block lg:hidden h-[360px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
        <img slot="child1" src="/compressed-mj-oldBook-mosaicGlass.png" alt="Section 3" class="absolute object-cover object-[50%_90%] w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500" /> 
        <img slot="child2" src="/compressed-mj-vineYard-V1.png" alt="Section 1 Hover" class="absolute object-cover object-[50%_90%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
      </WaterColorReveal>
      <WaterColorReveal client:visible id="V2section-3" width={600} height={600}
       className="hidden lg:block h-[600px] aspect-square drop-shadow-[20px_20px_5px_rgba(0,0,0,0.07)] group">
        <img slot="child1" src="/compressed-mj-oldBook-mosaicGlass.png" alt="Section 3" class="absolute object-cover object-[50%_40%] w-full h-full rounded-xl shadow-lg group-hover:opacity-0 transition-opacity duration-500" /> 
        <img slot="child2" src="/compressed-mj-vineYard-V1.png" alt="Section 1 Hover" class="absolute object-cover object-[50%_40%] w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
      </WaterColorReveal>
        <p class=" w-fit absolute bottom-[0%] right-[45%] translate-x-[100%] translate-y-[-20%] 
        text-nowrap text-4xl lg:text-5xl font-doulaise font-semibold mb-8 px-6 py-3 group-hover:opacity-0 transition-opacity duration-[700ms]
        bg-gradient-to-r from-stone-100/90 via-stone-300/70 to-stone-200/70 bg-clip-text text-transparent">
        auf gute freundschaft</p>
        <p class=" w-fit absolute bottom-[0%] right-[45%] translate-x-[100%] translate-y-[10%] 
        text-nowrap text-2xl lg:text-3xl font-doulaise font-semibold mb-8 px-6 py-3 group-hover:opacity-0 transition-opacity duration-1000
        bg-gradient-to-r from-stone-400 via-stone-500/40 to-stone-500/10 bg-clip-text text-transparent">
        die nie rastet oder rostet, die nichts fordert oder kostet</p>
      </div>
      
    </div>

    <!-- Section 5: Image Right, Text Left -->
    <div class="flex flex-col md:flex-row md:ml-24 items-start sm:items-center justify-between gap-4 xl:gap-12 w-full max-w-6xl mx-auto">

      <div class="flex-1 order-2 md:order-1 justify-start items-start mt-52 translate-x-[-10%]">
        <h2 class="max-w-4 sm:max-w-2xl text-3xl sm:text-5xl xl:text-6xl font-bold mb-2 font-bonanova tracking-tight text-nowrap">
          <span class="text-accent1/50 sm:text-accent1 md:text-accent1/50 pr-32 text-nowrap"> 
            Seien Sie Dabei!
          </span>
          </h2>
        <p class="text-lg xl:text-xl text-stone-700/75 mb-4 xl:leading-none">
          Klicken Sie hier um direkt zu den<br class="sm:hidden"/> <span class="text-stone-700/75 sm:text-stone-200 md:text-stone-700/75"> Touren zu gelangen.</span>
          </p>        
      <a href="/tours" class="inline-flex items-center pl-4 pr-4 py-3
      bg-gradient-to-r from-amber-600 to-orange-600 text-white font-semibold text-lg rounded-full shadow-lg
       hover:from-amber-700 hover:to-orange-700 transform hover:scale-105 transition-all duration-300">
       Hier Buchen
       <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="3 0 24 24">
         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
       </svg>
      </a>
    </div>
  

      <div class="flex-1 order-1 md:order-2 flex justify-center overflow-visible relative lg:h-[500px] h-[400px]">
        <div class="border-2 border-red-500/0 absolute top-0 left-0 translate-x-[5%] translate-y-[-70%] sm:translate-x-[-23%] sm:translate-y-[-30%] md:translate-x-[-33%] md:translate-y-[-25%] lg:translate-x-[-23%] lg:translate-y-[3%]  xl:translate-y-[-20%] xl:translate-x-[-23%]">        
        <WaterColorReveal client:visible id="V2section-5-sm" width={1000} height={1000}
         className="block sm:hidden h-[400px] aspect-square drop-shadow-[16px_16px_5px_rgba(0,0,0,0.09)] overflow-visible  translate-x-[-250%] translate-y-[10%]">
          <img slot="child1" src="/compressed-mj-grapes-mosaicGlass-transparent.png" alt="Section 1" class="absolute object-cover rotate-[35deg] object-[20%_40%] scale-[0.7]  saturate-[0.6] w-full h-full rounded-xl  overflow-visible" />
          <img slot="child1" src="/compressed-mj-grapes-mosaicGlass-transparent.png" alt="Section 1" class="absolute object-cover rotate-[40deg] object-[20%_0%] scale-[1.3]  saturate-[0.6] w-full h-full rounded-xl  overflow-visible" />
          <!-- <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8044.jpg" alt="Section 1 Hover" class="absolute object-cover w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" /> -->
        </WaterColorReveal>
        <WaterColorReveal client:visible id="V2section-5-md" width={1400} height={1400}
         className="hidden sm:block lg:hidden h-[900px] aspect-square drop-shadow-[16px_16px_5px_rgba(0,0,0,0.09)] overflow-visible  translate-x-[-250%] translate-y-[10%]">
          <img slot="child1" src="/compressed-mj-grapes-mosaicGlass-transparent.png" alt="Section 1" class="absolute object-cover rotate-[35deg] object-[20%_40%] scale-[0.7]  saturate-[0.6] w-full h-full rounded-xl  overflow-visible" />
          <img slot="child1" src="/compressed-mj-grapes-mosaicGlass-transparent.png" alt="Section 1" class="absolute object-cover rotate-[40deg] object-[20%_0%] scale-[1.3]  saturate-[0.6] w-full h-full rounded-xl  overflow-visible" />
          <!-- <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8044.jpg" alt="Section 1 Hover" class="absolute object-cover w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" /> -->
        </WaterColorReveal>
        <WaterColorReveal client:visible id="V2section-5-lg" width={700} height={700}
         className="hidden lg:block xl:hidden h-[700px] aspect-square drop-shadow-[16px_16px_5px_rgba(0,0,0,0.09)] overflow-visible  translate-x-[-250%] translate-y-[10%]">
          <img slot="child1" src="/compressed-mj-grapes-mosaicGlass-transparent.png" alt="Section 1" class="absolute object-cover rotate-[30deg] object-[20%_40%] scale-[0.7]  saturate-[0.6] w-full h-full rounded-xl  overflow-visible" />
          <img slot="child1" src="/compressed-mj-grapes-mosaicGlass-transparent.png" alt="Section 1" class="absolute object-cover rotate-[25deg] object-[20%_0%] scale-[1.3]  saturate-[0.6] w-full h-full rounded-xl  overflow-visible" />
          <!-- <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8044.jpg" alt="Section 1 Hover" class="absolute object-cover w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" /> -->
        </WaterColorReveal>
        <WaterColorReveal client:visible id="V2section-5-xl" width={800} height={800}
         className="hidden xl:block h-[800px] aspect-square drop-shadow-[16px_16px_5px_rgba(0,0,0,0.09)] overflow-visible  translate-x-[-250%] translate-y-[10%]">
          <img slot="child1" src="/compressed-mj-grapes-mosaicGlass-transparent.png" alt="Section 1" class="absolute object-cover rotate-[30deg] object-[20%_40%] scale-[0.7]  saturate-[0.6] w-full h-full rounded-xl  overflow-visible" />
          <img slot="child1" src="/compressed-mj-grapes-mosaicGlass-transparent.png" alt="Section 1" class="absolute object-cover rotate-[25deg] object-[20%_0%] scale-[1.3]  saturate-[0.6] w-full h-full rounded-xl  overflow-visible" />
          <!-- <img slot="child2" src="/Bachus&ChristopherusTour/IMG_8044.jpg" alt="Section 1 Hover" class="absolute object-cover w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" /> -->
        </WaterColorReveal>
        
        <p class="w-fit absolute bottom-[0%] left-[0%] translate-x-[-50%] md:translate-x-[-0%] sm:translate-y-[0%] translate-y-[120%]
      text-nowrap text-4xl xl:text-5xl font-doulaise font-semibold mb-8 text-stone-300/40 
      md:bg-gradient-to-r from-stone-400/70 via-stone-200/10 to-stone-200/40 bg-clip-text md:text-transparent
      lowercase  group-hover:opacity-0 transition-opacity duration-1000
      pr-2 pl-2 py-3 z-10">Tradition und Geschichte</p>
        </div>
      </div>

    </div>


    <!-- Quotes Section -->
    <div class="w-screen px-8 sm:px-0 md:max-w-6xl mx-auto absolute bottom-0 left-0 z-10 mt-24 pt-24 bg-gradient-to-t from-white via-white to-transparent
     md:w-full md:relative md:mb-12 md:mt-24 md:bg-none h-[550px]">
      <!-- Desktop Quotes -->
      <div class="text-center mb-12 hidden md:block">
        <h2 class="text-5xl xl:text-6xl font-bold font-bonanova tracking-tight">
          <span class="text-accent1">Was unsere Gäste sagen</span>
        </h2>
        <p class="text-xl xl:text-xl text-stone-600/80 font-medium">
          Authentische Erfahrungen von unseren Weinliebhabern
        </p>
      </div>
      
      <div class="relative h-[300px] md:h-[250px] flex items-center justify-center max-w-xl mx-auto ">
        <div id="quotes-container" class="relative w-full max-w-4xl mx-auto px-8">
          {reviews.map((review, index) => (
            <div 
              id={`quote-${index}`}
              class={`absolute inset-0 flex flex-col items-center justify-center text-center transition-all duration-1000 ease-in-out ${
                index === 0 ? 'opacity-100' : 'opacity-0'
              }`}
            >
              <div class="relative">
                <svg class="absolute -top-8 -left-8 w-12 h-12 text-accent1/30 transform -rotate-12" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
                </svg>
                <blockquote class="text-lg md:text-xl xl:text-2xl text-stone-700 leading-relaxed font-medium italic px-8 py-4">
                  "{review.text}"
                </blockquote>
                <svg class="absolute -bottom-8 -right-8 w-12 h-12 text-accent1/30 transform rotate-12" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
                </svg>
              </div>
              <p class="text-sm md:text-base text-stone-500 mt-6 font-medium">
                — {review.date}
              </p>
            </div>
          ))}
        </div>
        
        <!-- Quote indicators -->
        <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
          {reviews.map((_, index) => (
            <button 
              id={`indicator-${index}`}
              class={`w-3 h-3 rounded-full transition-all duration-300 ${
                index === 0 ? 'bg-accent1/70 scale-110' : 'bg-stone-300 hover:bg-stone-400'
              }`}
              onclick={`showQuote(${index})`}
            ></button>
          ))}
        </div>
      </div>

      <!-- Mobile Quotes -->
      <div class="text-center mb-12 block md:hidden ">
        <h2 class="text-4xl xl:text-6xl font-bold font-bonanova tracking-tight">
          <span class="text-accent1">Was unsere Gäste sagen</span>
        </h2>
        <p class="text-lg xl:text-xl text-stone-600/80 font-medium">
          Authentische Erfahrungen unserer Weinliebhaber
        </p>
      </div>
    </div>
  


    <div class="h-[320px] md:h-[1000px] lg:h-[900px] relative md:absolute md:bottom-0 md:left-0 w-screen mx-auto
    bg-gradient-to-t from-white via-white/95 to-transparent"/>
    
    <!-- <div class="flex justify-center absolute bottom-0 left-[50%] translate-x-[-50%] w-full h-fit min-h-[50px] z-10
    bg-gradient-to-t from-white via-white/55 to-transparent ">
      <a href="/#tours" class="inline-flex items-center px-8 py-4  translate-y-[-50%]
      bg-gradient-to-r from-amber-600 to-orange-600 text-white font-semibold text-lg rounded-full shadow-lg
       hover:from-amber-700 hover:to-orange-700 transform hover:scale-105 transition-all duration-300">
        <svg class="ml-2 w-5 h-5 rotate-90" fill="none" stroke="currentColor" viewBox="3 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
        Zu den Touren
      </a>
    </div> -->
    <script define:vars={{ reviews }}>
      let currentQuoteIndex = 0;
      const totalQuotes = reviews.length;
      let autoPlayInterval;

      function showQuote(index) {
        // Hide current quote
        const currentQuote = document.getElementById(`quote-${currentQuoteIndex}`);
        const currentIndicator = document.getElementById(`indicator-${currentQuoteIndex}`);
        
        if (currentQuote) {
          currentQuote.style.opacity = '0';
          currentQuote.style.transform = 'translateY(20px)';
        }
        if (currentIndicator) {
          currentIndicator.classList.remove('bg-accent1/70', 'scale-110');
          currentIndicator.classList.add('bg-stone-300');
        }

        // Show new quote
        const newQuote = document.getElementById(`quote-${index}`);
        const newIndicator = document.getElementById(`indicator-${index}`);
        
        if (newQuote) {
          newQuote.style.opacity = '1';
          newQuote.style.transform = 'translateY(0)';
        }
        if (newIndicator) {
          newIndicator.classList.add('bg-accent1/70', 'scale-110');
          newIndicator.classList.remove('bg-stone-300');
        }

        currentQuoteIndex = index;
      }

      function nextQuote() {
        const nextIndex = (currentQuoteIndex + 1) % totalQuotes;
        showQuote(nextIndex);
      }

      function startAutoPlay() {
        autoPlayInterval = setInterval(nextQuote, 5000); // Change quote every 5 seconds
      }

      function stopAutoPlay() {
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
        }
      }

      // Initialize
      document.addEventListener('DOMContentLoaded', function() {
        startAutoPlay();
        
        // Pause auto-play when hovering over quotes
        const quotesContainer = document.getElementById('quotes-container');
        if (quotesContainer) {
          quotesContainer.addEventListener('mouseenter', stopAutoPlay);
          quotesContainer.addEventListener('mouseleave', startAutoPlay);
        }
      });
    </script>
</section>
